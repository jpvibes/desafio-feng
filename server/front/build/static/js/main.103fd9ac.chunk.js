(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{146:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),l=a.n(o),i=a(63),c=a(148),s=a(149),d=a(150),u=a(151),m="@Session_Token",p=function(e){localStorage.setItem(m,e)},h=a(17),f=a.n(h),g=a(24),v=a(8),b=a(9),E=a(11),x=a(10),w=a(12),y=a(147),j=a(152),D=a(16),C=a.n(D),O=a(25),S=a.n(O),N=a(13),_=a(14);function k(){var e=Object(N.a)(["\n  width: 400px;\n  background: #fff;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  img {\n    width: 100px;\n    margin: 10px 0 40px;\n  }\n  p {\n    color: #ff3333;\n    margin-bottom: 15px;\n    border: 1px solid #ff3333;\n    padding: 10px;\n    width: 100%;\n    text-align: center;\n  }\n  input {\n    flex: 1;\n    height: 46px;\n    margin-bottom: 15px;\n    padding: 0 20px;\n    color: #777;\n    font-size: 15px;\n    width: 100%;\n    border: 1px solid #ddd;\n    &::placeholder {\n      color: #999;\n    }\n  }\n  button {\n    color: #fff;\n    font-size: 16px;\n    background: #fc6963;\n    height: 56px;\n    border: 0;\n    border-radius: 5px;\n    width: 100%;\n  }\n  hr {\n    margin: 20px 0;\n    border: none;\n    border-bottom: 1px solid #cdcdcd;\n    width: 100%;\n  }\n  a {\n    font-size: 16;\n    font-weight: bold;\n    color: #999;\n    text-decoration: none;\n  }\n"]);return k=function(){return e},e}function M(){var e=Object(N.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n"]);return M=function(){return e},e}var I=_.a.div(M()),Y=_.a.form(k()),T=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(E.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:"",error:""},a.handleSignUp=function(){var e=Object(g.a)(f.a.mark(function e(t){var n,r,o,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=a.state,r=n.username,o=n.email,l=n.password,r&&o&&l?C()({method:"post",url:"/cadastro",headers:{"Content-type":"application/json"},data:{username:r,email:o,password:l}}).then(function(e){e.data[0]?a.props.history.push("/"):a.setState({error:e.data[1]})}).catch(function(e){console.log("erro",e),a.setState({error:"Ocorreu um erro ao registrar sua conta :("})}):a.setState({error:"Preencha todos os dados para se cadastrar :D"});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(w.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(I,null,r.a.createElement(Y,{onSubmit:this.handleSignUp},r.a.createElement("img",{src:S.a,alt:"logo"}),this.state.error&&r.a.createElement("p",null,this.state.error),r.a.createElement("input",{type:"text",placeholder:"Nome de usu\xe1rio",onChange:function(t){return e.setState({username:t.target.value})}}),r.a.createElement("input",{type:"email",placeholder:"Endere\xe7o de e-mail",onChange:function(t){return e.setState({email:t.target.value})}}),r.a.createElement("input",{type:"password",placeholder:"Senha",onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("button",{type:"submit"},"Cadastrar"),r.a.createElement("hr",null),r.a.createElement(y.a,{to:"/"},"Fazer login")))}}]),t}(n.Component),V=Object(j.a)(T);function F(){var e=Object(N.a)(["\n  width: 400px;\n  background: #fff;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  img {\n    width: 100px;\n    margin: 10px 0 40px;\n  }\n  p {\n    color: #ff3333;\n    margin-bottom: 15px;\n    border: 1px solid #ff3333;\n    padding: 10px;\n    width: 100%;\n    text-align: center;\n  }\n  input {\n    flex: 1;\n    height: 46px;\n    margin-bottom: 15px;\n    padding: 0 20px;\n    color: #777;\n    font-size: 15px;\n    width: 100%;\n    border: 1px solid #ddd;\n    &::placeholder {\n      color: #999;\n    }\n  }\n  button {\n    color: #fff;\n    font-size: 16px;\n    background: #fc6963;\n    height: 56px;\n    border: 0;\n    border-radius: 5px;\n    width: 100%;\n  }\n  hr {\n    margin: 20px 0;\n    border: none;\n    border-bottom: 1px solid #cdcdcd;\n    width: 100%;\n  }\n  a {\n    font-size: 16;\n    font-weight: bold;\n    color: #999;\n    text-decoration: none;\n  }\n"]);return F=function(){return e},e}function z(){var e=Object(N.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n"]);return z=function(){return e},e}var L=_.a.div(z()),H=_.a.form(F()),B=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(E.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},a.handleSignIn=function(){var e=Object(g.a)(f.a.mark(function e(t){var n,r,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=a.state,r=n.username,o=n.password,!r&&r.length<=255||!o&&o.length<=255?a.setState({error:"Preencha usuario e senha para continuar!"}):C()({method:"post",url:"/login",headers:{"Content-type":"application/json"},data:{username:r,password:o}}).then(function(e){console.log(e.data.token),e.data.token[0]?(p(e.data.token[1]),a.props.history.push("/app")):a.setState({error:"Houve um problema com o login, verifique suas credenciais."})}).catch(function(e){console.log("erro",e),a.setState({error:"Houve um problema com o login, verifique suas credenciais."})});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(w.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(L,null,r.a.createElement(H,{onSubmit:this.handleSignIn},r.a.createElement("img",{src:S.a,alt:"logo"}),this.state.error&&r.a.createElement("p",null,this.state.error),r.a.createElement("input",{type:"text",placeholder:"Usuario",onChange:function(t){return e.setState({username:t.target.value})}}),r.a.createElement("input",{type:"password",placeholder:"Senha",onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("button",{type:"submit"},"Entrar"),r.a.createElement("hr",null),r.a.createElement(y.a,{to:"/cadastro"},"Se cadastrar :D")))}}]),t}(n.Component),P=Object(j.a)(B),A=(a(98),a(46),a(29)),R=a.n(A),q=a(62),U=function(e){return r.a.createElement("div",{className:"col-xl-11"},r.a.createElement("div",{className:"card shadow mb-4"},r.a.createElement("div",{className:"card-header align-items-center"},r.a.createElement("h2",{className:"text-center"},"Pedidos"),r.a.createElement("br",null),r.a.createElement("div",{className:"row justify-content-center align-self-center"},r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{type:"date",className:"form-control",onChange:e.searchDataInicio,onBlur:function(t){t.target.value="",e.searchClient(t=null)}})),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{type:"date",placeholder:"Insira uma data1",className:"form-control",onChange:e.searchDataLimite,onBlur:function(t){t.target.value="",e.searchClient(t=null)}})),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nome do Cliente",onChange:e.searchClient,onBlur:function(t){t.target.value="",e.searchClient(t=null)}})),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{type:"number",className:"form-control",placeholder:"Valor Minimo",onChange:e.searchMinValue,onBlur:function(t){t.target.value="",e.searchClient(t=null)}})))),r.a.createElement(R.a,{keyField:"id",data:e.data,columns:[{dataField:"id",text:"Identificac\xe3o"},{dataField:"date",text:"Data do Pedido"},{dataField:"value",text:"Valor"},{dataField:"name",text:"Cliente"}],rowEvents:e.rowEvents}),r.a.createElement("div",{className:"row justify-content-center align-self-center",style:{marginBottom:"1rem"}},r.a.createElement(q.CSVLink,{className:"btn btn-success ",data:e.data},"Exportar CSV"))))},$=function(e){return r.a.createElement("div",{className:"col-xl-11"},r.a.createElement("div",{className:"card shadow mb-4"},r.a.createElement("div",{className:"card-header align-items-center"},r.a.createElement("h2",{className:"text-center"},"Detalhes do Pedido ",e.pedidos_id),r.a.createElement("br",null),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("h5",null,"Nome: ",e.client_name),r.a.createElement("div",null,r.a.createElement("h5",null,"Telefone: ",e.client_phone)),r.a.createElement("h5",null,"Email: ",e.client_email))),r.a.createElement(R.a,{keyField:"name",columns:[{dataField:"name",text:"Items"},{dataField:"description",text:"Descricao"},{dataField:"quantity",text:"Quantidade"},{dataField:"value",text:"Valor"}],data:e.data}),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null),r.a.createElement("h5",{style:{marginRight:"2rem"}},"Total: ",e.value_total)),r.a.createElement("div",{className:"row justify-content-center align-self-center",style:{marginBottom:"1rem"}},r.a.createElement("button",{className:"btn btn-success ",onClick:e.voltar_tabela},"Voltar"))))},J=a(21),Q=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(E.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],filtro:[],pedido:[],dataTable:[],isModal:!1},a.changeData=function(e){a.setState({filtro:e})},a.text_toChangeData=function(e){var t=[{id:e,value:e,date:e,name:e}];a.changeData(t)},a.reset=function(){a.changeData(a.state.dataTable)},a.searchDataIncio=function(e){if(null!=e){var t=a.state.dataTable;console.log("aaa "+J(e.target.value).format("YYYY-MM-DD"));var n=t.filter(function(t){return J(t.date).format("YYYY-MM-DDTHH:mm:ss")>=e.target.value});return n.length>0?a.changeData(n):a.text_toChangeData("---- Data Inicial Inexistente ----")}a.reset()},a.searchDataLimite=function(e){if(null!=e){var t=a.state.dataTable;console.log("aaa "+J(e.target.value).format("YYYY-MM-DD"));var n=t.filter(function(t){return J(t.date).format("YYYY-MM-DDTHH:mm:ss")<=e.target.value});return n.length>0?a.changeData(n):a.text_toChangeData("---- Data Limite Inexistente ----")}a.reset()},a.searchClient=function(e){if(null!=e){var t=a.state.dataTable,n=e.target.value.toLowerCase(),r=t.filter(function(e){return e.name.toLowerCase().includes(n)});return r.length>0?a.changeData(r):a.text_toChangeData("---- Cliente N\xe3o Encontrado ----")}a.reset()},a.searchMinValue=function(e){if(null!=e){var t=a.state.dataTable.filter(function(t){return parseFloat(t.value.replace("R$ ",""))>=e.target.value});return t.length>0?a.changeData(t):a.text_toChangeData("---- Valor N\xe3o Encontrado ----")}a.reset()},a.check_filtro=function(){var e=a.state.dataTable,t=a.state.filtro;return t.length>0?t:e},a.rowEvents={onClick:function(e,t,n){var r=a.state.data[n],o={items:r.items,id:r.id,value_total:"R$ "+r.value,client_name:r.client.name,client_phone:r.client.phone,client_email:r.client.email};a.setState({pedido:o,isModal:!0})}},a.handleVoltar=function(){a.setState({isModal:!1})},a}return Object(w.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.localStorage.getItem("@Session_Token");C()({method:"post",url:"/api/pedidos",headers:{"Content-type":"application/json"},data:{token:t}}).then(function(t){e.setState({data:t.data.pedidos},function(){var t=e.state.data.map(function(e){return{id:e.id,value:"R$ "+e.value,date:e.date,name:e.client.name}});e.setState({dataTable:t})})}).catch(function(e){console.log("erro",e)})}},{key:"render",value:function(){if(this.state.data.length>0){var e=this.state.isModal;return e?r.a.createElement($,{data:this.state.pedido.items,pedidos_id:this.state.pedido.id,value_total:this.state.pedido.value_total,client_name:this.state.pedido.client_name,client_phone:this.state.pedido.client_phone,client_email:this.state.pedido.client_email,voltar_tabela:this.handleVoltar}):r.a.createElement(U,{isModal:e,data:this.check_filtro(),changeData:this.changeData,searchDataInicio:this.searchDataIncio,searchDataLimite:this.searchDataLimite,searchClient:this.searchClient,searchMinValue:this.searchMinValue,rowEvents:this.rowEvents})}return r.a.createElement("h1",null,"Espera")}}]),t}(n.Component),G=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"page-top"},r.a.createElement("div",{id:"wrapper"},r.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},r.a.createElement("div",{id:"content"},r.a.createElement("div",{className:"row justify-content-center",style:{marginTop:"5%"}},r.a.createElement(Q,null))))))}}]),t}(n.Component),K=Object(j.a)(G),W=function(e){var t=e.component,a=Object(i.a)(e,["component"]);return r.a.createElement(c.a,Object.assign({},a,{render:function(e){return null!==localStorage.getItem(m)?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/",state:{from:e.location}}})}}))},X=function(){return r.a.createElement(d.a,null,r.a.createElement(u.a,null,r.a.createElement(c.a,{exact:!0,path:"/",component:P}),r.a.createElement(c.a,{path:"/cadastro",component:V}),r.a.createElement(W,{path:"/app",component:K}),r.a.createElement(c.a,{path:"*",component:function(){return r.a.createElement("h1",null,"Page not found")}})))};a(145);function Z(){var e=Object(N.a)(["\n* {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n  outline: 0;\n}\nbody, html {\n  background: #eee;\n  font-family: 'Helvetica Neue', 'Helvetica', Arial, sans-serif;\n  text-rendering: optimizeLegibility !important;\n  -webkit-font-smoothing: antialiased !important;\n  height: 100%;\n  width: 100%;\n}\n"]);return Z=function(){return e},e}Object(_.b)(Z());var ee=function(){return r.a.createElement(X,null)};l.a.render(r.a.createElement(ee,null),document.getElementById("root"))},25:function(e,t,a){e.exports=a.p+"static/media/logo.2a42dd1e.png"},64:function(e,t,a){e.exports=a(146)},98:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.103fd9ac.chunk.js.map